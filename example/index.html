<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>example</title>

<style>
    fieldset {
        margin-top: 20px;
    }
    code,.result {
        background: #3d3d3d;
        color: white;
        display: block;
        padding: 20px;
        font-size: larger;
        font-family: 'å¾®è½¯é›…é»‘',serif;
        margin: 10px 0;
        border-radius: 5px;
    }
    .result {
        background: #00103f;
    }
</style>
</head>
<body>
    <h3 id="demo">
        <h2> Demo:</h2>
        æ•°æ®æº:  new Map([['undefined', 'Android'], ['NaN', 'iPhone'],['null', 'Windows'],['ğŸ˜Š', 'Linux']])
    </h3>

    <main >
        <!-- ä¾‹ä¸€ start -->
        <fieldset id="example">
            <legend>demo1ã€ åŠ¨æ€æ’å…¥å…ƒç´ èŠ‚ç‚¹å’Œæ–‡æœ¬èŠ‚ç‚¹åè‡ªåŠ¨æ›¿æ¢å…¶æ–‡æœ¬å†…å®¹</legend>
            <button type="button" id="btn_0">æ’å…¥èŠ‚ç‚¹</button>
            <code id="yyds">
                undefined æ°¸è¿œå˜€ç¥ ï¼ï¼ï¼ ğŸ˜Š YYDS!!!
            </code>
        </fieldset>
        <!-- ä¾‹ä¸€ end -->
        <!-- ä¾‹äºŒ start -->
        <fieldset id="example1">
            <legend>demo2ã€ å¸¦æœ‰ data-vc-ignore å±æ€§çš„èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹å°†è¢«å¿½ç•¥</legend>
            <button type="button" id="btn_1">æ’å…¥èŠ‚ç‚¹</button>
            <code id="ignore">
                è¿™æ˜¯ nullï¼Œnullä¸ä¼šè¢«æ›¿æ¢æˆ Windows
            </code>
        </fieldset>
        <!-- ä¾‹äºŒ end -->
        <!-- ä¾‹ä¸‰ start -->
        <fieldset id="example2">
            <legend>demo3ã€ ä½¿ç”¨RegExpçš„ç¬¬äºŒä¸ªæ„é€ å‚æ•°</legend>
            <button type="button" id="btn_2">æ¨¡å¼ i</button>
            <button type="button" id="btn_3">æ¨¡å¼ gum</button>
            <button type="button" id="btn_4">æ¨¡å¼ guim</button>
            <code id="_3">
                UNdefined_ğŸ˜Š||C++ğŸ˜Š...C#-undeFINED_è¥¿æ¹–-NaN-â€”â€”â€”â€”â€”â€”NAN;
            </code>
            <div id="example2-1"></div>
            <br/>
            <div id="example2-2"></div>
            <br/>
            <div id="example2-3"></div>
        </fieldset>
        <!-- ä¾‹ä¸‰ end -->
    </main>
    <script type="module">
        import VcTextContentReplace from '../index.js';

        const dataDemo = new Map([['undefined', 'Android'], ['NaN', 'iPhone'],['null', 'Windows'],['ğŸ˜Š', 'Linux']]);
        /** demo1 start **/
        ;(function(){
            const tools = new VcTextContentReplace(document.querySelector('#example'), dataDemo);
            tools.initialize();
            const exampleText = 'undefined æ°¸è¿œå˜€ç¥ ï¼ï¼ï¼ ğŸ˜Š YYDS!!!';
            document.querySelector('#btn_0').onclick = function() {
                const a = document.createElement('div');
                a.classList.add('result');
                const b = document.createElement('h4');
                b.textContent = exampleText;
                a.appendChild(b);
                document.querySelector('#example').appendChild(a);
            }

        })()
        /** demo1 end **/
        /** demo2 start **/
        ;(function(){
            const tools = new VcTextContentReplace(document.querySelector('#example1'), dataDemo);
            tools.initialize();
            const exampleText = 'è¿™æ˜¯ nullï¼Œnullä¸ä¼šè¢«æ›¿æ¢æˆ Windows';
            document.querySelector('#btn_1').onclick = function() {
                const a = document.createElement('div');
                a.classList.add('result');
                const b = document.createElement('h4');
                a.dataset.vcIgnore = 'true';
                b.textContent = exampleText;
                // å¸¦æœ‰ data-vcIgnore å±æ€§çš„èŠ‚ç‚¹åŠå…¶å­—èŠ‚ç‚¹çš„å†…å®¹ä¸ä¼šè¢«å¤„ç†
                a.appendChild(b);
                document.querySelector('#example1').appendChild(a);
            }
        })()
        /** demo2 end **/
        /** demo3 start **/
        ;(function(){
            const tools = new VcTextContentReplace(document.querySelector('#example2-1'), dataDemo, 'i');
            tools.initialize();
            const exampleText = 'UNdefined_ğŸ˜Š||C++ğŸ˜Š...C#-undeFINED_è¥¿æ¹–-NaN-â€”â€”â€”â€”â€”â€”NAN;'
            document.querySelector('#btn_2').onclick = function() {
                const a = document.createElement('div');
                a.classList.add('result');
                const b = document.createElement('h4');
                b.textContent = exampleText;
                a.appendChild(b);
                document.querySelector('#example2-1').appendChild(a);
            }
        })()
        ;(function(){
            const tools = new VcTextContentReplace(document.querySelector('#example2-2'), dataDemo, 'gum');
            tools.initialize();
            const exampleText = 'UNdefined_ğŸ˜Š||C++ğŸ˜Š...C#-undeFINED_è¥¿æ¹–-NaN-â€”â€”â€”â€”â€”â€”NAN;'
            document.querySelector('#btn_3').onclick = function() {
                const a = document.createElement('div');
                a.classList.add('result');
                const b = document.createElement('h4');
                b.textContent = exampleText;
                a.appendChild(b);
                document.querySelector('#example2-2').appendChild(a);
            }
        })()
        ;(function(){
            const tools = new VcTextContentReplace(document.querySelector('#example2-3'), dataDemo, 'guim');
            tools.initialize();
            const exampleText = 'UNdefined_ğŸ˜Š||C++ğŸ˜Š...C#-undeFINED_è¥¿æ¹–-NaN-â€”â€”â€”â€”â€”â€”NAN;'
            document.querySelector('#btn_4').onclick = function() {
                const a = document.createElement('div');
                a.classList.add('result');
                const b = document.createElement('h4');
                b.textContent = exampleText;
                a.appendChild(b);
                document.querySelector('#example2-3').appendChild(a);
            }
        })()
        /** demo3 end **/
    </script>
</body>
</html>
